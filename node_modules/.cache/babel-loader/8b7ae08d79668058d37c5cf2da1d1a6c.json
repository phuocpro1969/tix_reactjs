{"ast":null,"code":"import axios from \"axios\";\n\nfunction handleUserLoginRequest(user, history) {\n  return dispatch => {\n    axios({\n      method: \"POST\",\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap\",\n      data: user\n    }).then(function (ress) {\n      // dispatch(GetListCinemaBrandSuccess(ress.data));\n      localStorage.setItem(\"user\", JSON.stringify(ress.data));\n      dispatch(saveUserLogin(ress.data.taiKhoan));\n      history.push(\"/\"); // console.log(ress.data);\n    }).catch(function (err) {\n      dispatch(saveUserLoginFailed(err)); // console.log(err);\n    });\n  };\n}\n\nfunction saveUserLogin(data) {\n  return {\n    type: \"SAVE_USER_LOGIN_SUCCESS\",\n    payload: data\n  };\n}\n\nfunction saveUserLoginFailed(err) {\n  return {\n    type: \"SAVE_USER_LOGIN_FAILED\",\n    payload: err\n  };\n}\n\nfunction GetInfoByLogout(data) {\n  return {\n    type: \"SAVE_USER_LOGOUT\",\n    payload: data\n  };\n}\n\n_c = GetInfoByLogout;\n\nfunction RegMemberFromForm(user, history) {\n  return dispatch => {\n    axios({\n      method: \"POST\",\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangKy\",\n      data: user\n    }).then(function (ress) {\n      console.log(ress.data);\n      history.goBack();\n    }).catch(function (err) {\n      console.log(err.response.data);\n      dispatch(showErrUserReg(err.response.data)); // console.log(err);\n    });\n  };\n}\n\n_c2 = RegMemberFromForm;\n\nfunction showErrUserReg(err) {\n  return {\n    type: \"SHOW_ERROR_MESS_BY_REG\",\n    payload: err\n  };\n}\n\nfunction ResetErMess(err) {\n  return {\n    type: \"RESET_ERR_MESS\",\n    payload: err\n  };\n}\n\n_c3 = ResetErMess;\nexport { handleUserLoginRequest };\nexport { GetInfoByLogout };\nexport { RegMemberFromForm };\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GetInfoByLogout\");\n$RefreshReg$(_c2, \"RegMemberFromForm\");\n$RefreshReg$(_c3, \"ResetErMess\");","map":{"version":3,"sources":["D:/tix-app/src/redux/actions/User.js"],"names":["axios","handleUserLoginRequest","user","history","dispatch","method","url","data","then","ress","localStorage","setItem","JSON","stringify","saveUserLogin","taiKhoan","push","catch","err","saveUserLoginFailed","type","payload","GetInfoByLogout","RegMemberFromForm","console","log","goBack","response","showErrUserReg","ResetErMess"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,SAASC,sBAAT,CAAgCC,IAAhC,EAAsCC,OAAtC,EAA+C;AAC7C,SAAQC,QAAD,IAAc;AACnBJ,IAAAA,KAAK,CAAC;AACJK,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,iEAFD;AAGJC,MAAAA,IAAI,EAAEL;AAHF,KAAD,CAAL,CAKGM,IALH,CAKQ,UAAUC,IAAV,EAAgB;AACpB;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAI,CAACF,IAApB,CAA7B;AACAH,MAAAA,QAAQ,CAACU,aAAa,CAACL,IAAI,CAACF,IAAL,CAAUQ,QAAX,CAAd,CAAR;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb,EAJoB,CAKpB;AACD,KAXH,EAYGC,KAZH,CAYS,UAAUC,GAAV,EAAe;AACpBd,MAAAA,QAAQ,CAACe,mBAAmB,CAACD,GAAD,CAApB,CAAR,CADoB,CAEpB;AACD,KAfH;AAgBD,GAjBD;AAkBD;;AACD,SAASJ,aAAT,CAAuBP,IAAvB,EAA6B;AAC3B,SAAO;AACLa,IAAAA,IAAI,EAAE,yBADD;AAELC,IAAAA,OAAO,EAAEd;AAFJ,GAAP;AAID;;AACD,SAASY,mBAAT,CAA6BD,GAA7B,EAAkC;AAChC,SAAO;AACLE,IAAAA,IAAI,EAAE,wBADD;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;;AACD,SAASI,eAAT,CAAyBf,IAAzB,EAA+B;AAC7B,SAAO;AACLa,IAAAA,IAAI,EAAE,kBADD;AAELC,IAAAA,OAAO,EAAEd;AAFJ,GAAP;AAID;;KALQe,e;;AAOT,SAASC,iBAAT,CAA2BrB,IAA3B,EAAiCC,OAAjC,EAA0C;AACxC,SAAQC,QAAD,IAAc;AACnBJ,IAAAA,KAAK,CAAC;AACJK,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,+DAFD;AAGJC,MAAAA,IAAI,EAAEL;AAHF,KAAD,CAAL,CAKGM,IALH,CAKQ,UAAUC,IAAV,EAAgB;AACpBe,MAAAA,OAAO,CAACC,GAAR,CAAYhB,IAAI,CAACF,IAAjB;AACAJ,MAAAA,OAAO,CAACuB,MAAR;AACD,KARH,EASGT,KATH,CASS,UAAUC,GAAV,EAAe;AACpBM,MAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACS,QAAJ,CAAapB,IAAzB;AACAH,MAAAA,QAAQ,CAACwB,cAAc,CAACV,GAAG,CAACS,QAAJ,CAAapB,IAAd,CAAf,CAAR,CAFoB,CAGpB;AACD,KAbH;AAcD,GAfD;AAgBD;;MAjBQgB,iB;;AAkBT,SAASK,cAAT,CAAwBV,GAAxB,EAA6B;AAC3B,SAAO;AACLE,IAAAA,IAAI,EAAE,wBADD;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;;AACD,SAASW,WAAT,CAAqBX,GAArB,EAA0B;AACxB,SAAO;AACLE,IAAAA,IAAI,EAAE,gBADD;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;;MALQW,W;AAMT,SAAS5B,sBAAT;AACA,SAASqB,eAAT;AACA,SAASC,iBAAT","sourcesContent":["import axios from \"axios\";\r\nfunction handleUserLoginRequest(user, history) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap\",\r\n      data: user,\r\n    })\r\n      .then(function (ress) {\r\n        // dispatch(GetListCinemaBrandSuccess(ress.data));\r\n        localStorage.setItem(\"user\", JSON.stringify(ress.data));\r\n        dispatch(saveUserLogin(ress.data.taiKhoan));\r\n        history.push(\"/\");\r\n        // console.log(ress.data);\r\n      })\r\n      .catch(function (err) {\r\n        dispatch(saveUserLoginFailed(err));\r\n        // console.log(err);\r\n      });\r\n  };\r\n}\r\nfunction saveUserLogin(data) {\r\n  return {\r\n    type: \"SAVE_USER_LOGIN_SUCCESS\",\r\n    payload: data,\r\n  };\r\n}\r\nfunction saveUserLoginFailed(err) {\r\n  return {\r\n    type: \"SAVE_USER_LOGIN_FAILED\",\r\n    payload: err,\r\n  };\r\n}\r\nfunction GetInfoByLogout(data) {\r\n  return {\r\n    type: \"SAVE_USER_LOGOUT\",\r\n    payload: data,\r\n  };\r\n}\r\n\r\nfunction RegMemberFromForm(user, history) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangKy\",\r\n      data: user,\r\n    })\r\n      .then(function (ress) {\r\n        console.log(ress.data);\r\n        history.goBack();\r\n      })\r\n      .catch(function (err) {\r\n        console.log(err.response.data);\r\n        dispatch(showErrUserReg(err.response.data));\r\n        // console.log(err);\r\n      });\r\n  };\r\n}\r\nfunction showErrUserReg(err) {\r\n  return {\r\n    type: \"SHOW_ERROR_MESS_BY_REG\",\r\n    payload: err,\r\n  };\r\n}\r\nfunction ResetErMess(err) {\r\n  return {\r\n    type: \"RESET_ERR_MESS\",\r\n    payload: err,\r\n  };\r\n}\r\nexport { handleUserLoginRequest };\r\nexport { GetInfoByLogout };\r\nexport { RegMemberFromForm };\r\n"]},"metadata":{},"sourceType":"module"}