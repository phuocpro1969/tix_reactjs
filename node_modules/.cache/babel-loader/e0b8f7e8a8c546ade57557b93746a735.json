{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert\";\n\nfunction getBookingRequest(codeShowTime) {\n  return dispatch => {\n    axios({\n      method: \"GET\",\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${codeShowTime}`,\n      data: null\n    }).then(function (ress) {\n      dispatch(getBookingSuccess(ress.data)); // console.log(ress.data);\n    }).catch(function (err) {\n      dispatch(getBookingFailed(err)); // console.log(err);\n    });\n  };\n}\n\nfunction getBookingSuccess(data) {\n  return {\n    type: \"GET_BOOKING_SUCCESS\",\n    payload: data\n  };\n}\n\nfunction getBookingFailed(err) {\n  return {\n    type: \"GET_BOOKING_FAILED\",\n    payload: err\n  };\n}\n\nexport { getBookingRequest };\n\nfunction activeSeat(data) {\n  return {\n    type: \"CHOOSE_SEAT\",\n    payload: data\n  };\n}\n\nexport { activeSeat };\n\nfunction postBookingTicketRq(maLichChieu, danhSachVe, history) {\n  return dispatch => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    axios({\n      method: \"POST\",\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\n      data: {\n        maLichChieu,\n        danhSachVe,\n        taiKhoanNguoiDung: user.taiKhoan\n      },\n      headers: {\n        Authorization: `Bearer ${user.accessToken}`\n      }\n    }).then(function (ress) {\n      console.log(ress.data);\n      swal({\n        title: ress.data,\n        icon: \"success\",\n        button: true\n      }).then(() => {\n        history.push(\"/\");\n      });\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n}\n\nexport { postBookingTicketRq };\n\nfunction resetActivenotify(data) {\n  return {\n    type: \"RESET_NOTIFY\",\n    payload: data\n  };\n}\n\nexport { resetActivenotify };","map":{"version":3,"sources":["C:/Users/phuoc/OneDrive/Máy tính/tix_reactjs/src/redux/actions/Booking.js"],"names":["axios","swal","getBookingRequest","codeShowTime","dispatch","method","url","data","then","ress","getBookingSuccess","catch","err","getBookingFailed","type","payload","activeSeat","postBookingTicketRq","maLichChieu","danhSachVe","history","user","JSON","parse","localStorage","getItem","taiKhoanNguoiDung","taiKhoan","headers","Authorization","accessToken","console","log","title","icon","button","push","resetActivenotify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,YAAjB;;AACA,SAASC,iBAAT,CAA2BC,YAA3B,EAAyC;AACvC,SAAQC,QAAD,IAAc;AACnBJ,IAAAA,KAAK,CAAC;AACJK,MAAAA,MAAM,EAAE,KADJ;AAEJC,MAAAA,GAAG,EAAG,qFAAoFH,YAAa,EAFnG;AAGJI,MAAAA,IAAI,EAAE;AAHF,KAAD,CAAL,CAKGC,IALH,CAKQ,UAAUC,IAAV,EAAgB;AACpBL,MAAAA,QAAQ,CAACM,iBAAiB,CAACD,IAAI,CAACF,IAAN,CAAlB,CAAR,CADoB,CAEpB;AACD,KARH,EASGI,KATH,CASS,UAAUC,GAAV,EAAe;AACpBR,MAAAA,QAAQ,CAACS,gBAAgB,CAACD,GAAD,CAAjB,CAAR,CADoB,CAEpB;AACD,KAZH;AAaD,GAdD;AAeD;;AACD,SAASF,iBAAT,CAA2BH,IAA3B,EAAiC;AAC/B,SAAO;AACLO,IAAAA,IAAI,EAAE,qBADD;AAELC,IAAAA,OAAO,EAAER;AAFJ,GAAP;AAID;;AACD,SAASM,gBAAT,CAA0BD,GAA1B,EAA+B;AAC7B,SAAO;AACLE,IAAAA,IAAI,EAAE,oBADD;AAELC,IAAAA,OAAO,EAAEH;AAFJ,GAAP;AAID;;AACD,SAASV,iBAAT;;AAEA,SAASc,UAAT,CAAoBT,IAApB,EAA0B;AACxB,SAAO;AACLO,IAAAA,IAAI,EAAE,aADD;AAELC,IAAAA,OAAO,EAAER;AAFJ,GAAP;AAID;;AACD,SAASS,UAAT;;AACA,SAASC,mBAAT,CAA6BC,WAA7B,EAA0CC,UAA1C,EAAsDC,OAAtD,EAA+D;AAC7D,SAAQhB,QAAD,IAAc;AACnB,UAAMiB,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACAzB,IAAAA,KAAK,CAAC;AACJK,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,GAAG,EAAE,0DAFD;AAGJC,MAAAA,IAAI,EAAE;AACJW,QAAAA,WADI;AAEJC,QAAAA,UAFI;AAGJO,QAAAA,iBAAiB,EAAEL,IAAI,CAACM;AAHpB,OAHF;AAQJC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASR,IAAI,CAACS,WAAY;AADnC;AARL,KAAD,CAAL,CAYGtB,IAZH,CAYQ,UAAUC,IAAV,EAAgB;AACpBsB,MAAAA,OAAO,CAACC,GAAR,CAAYvB,IAAI,CAACF,IAAjB;AACAN,MAAAA,IAAI,CAAC;AACHgC,QAAAA,KAAK,EAAExB,IAAI,CAACF,IADT;AAEH2B,QAAAA,IAAI,EAAE,SAFH;AAGHC,QAAAA,MAAM,EAAE;AAHL,OAAD,CAAJ,CAIG3B,IAJH,CAIQ,MAAM;AACZY,QAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACD,OAND;AAOD,KArBH,EAsBGzB,KAtBH,CAsBS,UAAUC,GAAV,EAAe;AACpBmB,MAAAA,OAAO,CAACC,GAAR,CAAYpB,GAAZ;AACD,KAxBH;AAyBD,GA3BD;AA4BD;;AACD,SAASK,mBAAT;;AACA,SAASoB,iBAAT,CAA2B9B,IAA3B,EAAiC;AAC/B,SAAO;AACLO,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,OAAO,EAAER;AAFJ,GAAP;AAID;;AACD,SAAS8B,iBAAT","sourcesContent":["import axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nfunction getBookingRequest(codeShowTime) {\r\n  return (dispatch) => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${codeShowTime}`,\r\n      data: null,\r\n    })\r\n      .then(function (ress) {\r\n        dispatch(getBookingSuccess(ress.data));\r\n        // console.log(ress.data);\r\n      })\r\n      .catch(function (err) {\r\n        dispatch(getBookingFailed(err));\r\n        // console.log(err);\r\n      });\r\n  };\r\n}\r\nfunction getBookingSuccess(data) {\r\n  return {\r\n    type: \"GET_BOOKING_SUCCESS\",\r\n    payload: data,\r\n  };\r\n}\r\nfunction getBookingFailed(err) {\r\n  return {\r\n    type: \"GET_BOOKING_FAILED\",\r\n    payload: err,\r\n  };\r\n}\r\nexport { getBookingRequest };\r\n\r\nfunction activeSeat(data) {\r\n  return {\r\n    type: \"CHOOSE_SEAT\",\r\n    payload: data,\r\n  };\r\n}\r\nexport { activeSeat };\r\nfunction postBookingTicketRq(maLichChieu, danhSachVe, history) {\r\n  return (dispatch) => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    axios({\r\n      method: \"POST\",\r\n      url: \"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe\",\r\n      data: {\r\n        maLichChieu,\r\n        danhSachVe,\r\n        taiKhoanNguoiDung: user.taiKhoan,\r\n      },\r\n      headers: {\r\n        Authorization: `Bearer ${user.accessToken}`,\r\n      },\r\n    })\r\n      .then(function (ress) {\r\n        console.log(ress.data);\r\n        swal({\r\n          title: ress.data,\r\n          icon: \"success\",\r\n          button: true,\r\n        }).then(() => {\r\n          history.push(\"/\");\r\n        });\r\n      })\r\n      .catch(function (err) {\r\n        console.log(err);\r\n      });\r\n  };\r\n}\r\nexport { postBookingTicketRq };\r\nfunction resetActivenotify(data) {\r\n  return {\r\n    type: \"RESET_NOTIFY\",\r\n    payload: data,\r\n  }\r\n}\r\nexport { resetActivenotify }"]},"metadata":{},"sourceType":"module"}